---
# Reflection of https://docs.alfresco.com/content-services/latest/support/
# TO BE ENRICHED AS RELEASES ARE OUT
# yaml-language-server: $schema=./supported-matrix.yaml
patterns:
  ga: &ga_pattern (\.[0-9]+){1,2}
  ga_with_hotfixes: &ga_hotfixes_pattern (\.[0-9]+){0,3}
  development: &development_pattern (\.[0-9]+){0,3}(-[AM]\.?[0-9]+)?
matrix:
  next:
    id: 231n
    acs:
      version: "23.1"
      pattern: *development_pattern
      image: &repository_image quay.io/alfresco/alfresco-content-repository
    share:
      version: "23.1"
      pattern: *development_pattern
      image: &share_image quay.io/alfresco/alfresco-share
    search:
      version: "2"
      image: quay.io/alfresco/search-services
      pattern: *development_pattern
    search-enterprise:
      version: "3"
      pattern: *development_pattern
    sync:
      version: "4"
      pattern: *development_pattern
    adw:
      version: "4.1"
      pattern: *development_almost_semver_pattern
    adminApp:
      version: "8.1"
      pattern: *development_almost_semver_pattern
    onedrive:
      version: "2"
      pattern: *development_pattern
    msteams:
      version: "2"
      pattern: *development_pattern
    intelligence:
      version: ">=1.5.0-0"
    trouter:
      version: ">=2.1.0-0"
    sfs:
      version: ">=2.1.0-0"
    tengine-aio:
      version: ">=3.1.0-0"
    tengine-misc:
      version: ">=3.1.0-0"
    tengine-im:
      version: ">=3.1.0-0"
    tengine-lo:
      version: ">=3.1.0-0"
    tengine-pdf:
      version: ">=3.1.0-0"
    tengine-tika:
      version: ">=3.1.0-0"

  latest:
    id: 74n
    acs:
      version: "7.4"
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.4"
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "2.0.7"
      image: quay.io/alfresco/search-services
      pattern: *ga_hotfixes_pattern
    search-enterprise:
      version: "3.3"
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.10"
      pattern: *ga_hotfixes_pattern
    adw:
      version: "4.1"
      pattern: *ga_hotfixes_pattern
    adminApp:
      version: "8.1"
      pattern: *ga_hotfixes_pattern
    onedrive:
      version: "2"
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "2"
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~2.0.0"
    trouter:
      version: "~3.0.0"
    sfs:
      version: "~3.0.0"
    tengine-misc:
      version: "~4.0.0"
    tengine-im:
      version: "~4.0.0"
    tengine-lo:
      version: "~4.0.0"
    tengine-pdf:
      version: "~4.0.0"
    tengine-tika:
      version: "~4.0.0"

  7.3.N:
    id: 73n
    acs:
      version: "7.3.1"
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.3.1"
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "2.0.5"
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3.2"
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.8"
      pattern: *ga_hotfixes_pattern
    adw:
      version: "3.1"
      pattern: *ga_pattern
    adminApp:
      version: "7"
      pattern: *ga_pattern
    onedrive:
      version: "1.1.3"
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.5.0"
    trouter:
      version: "~2.0.0"
    sfs:
      version: "~2.0.0"
    tengine-misc:
      version: "~3.0.0"
    tengine-im:
      version: "~3.0.0"
    tengine-lo:
      version: "~3.0.0"
    tengine-pdf:
      version: "~3.0.0"
    tengine-tika:
      version: "~3.0.0"

  7.2.N:
    id: 72n
    acs:
      version: "7.2"
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.2"
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "2.0.3"
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3.1"
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.8"
      pattern: *ga_hotfixes_pattern
    adw:
      version: "3.0"
      pattern: *ga_pattern
    adminApp:
      version: "7"
      pattern: *ga_pattern
    onedrive:
      version: "1.1.3"
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.5.0"
    trouter:
      version: "~2.0.0"
    sfs:
      version: "~2.0.0"
    tengine-misc:
      version: "~2.5.0"
    tengine-im:
      version: "~2.5.0"
    tengine-lo:
      version: "~2.5.0"
    tengine-pdf:
      version: "~2.5.0"
    tengine-tika:
      version: "~2.5.0"

  7.1.N:
    id: 71n
    acs:
      version: "7.1"
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.1"
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "2.0.2"
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    search-enterprise:
      version: "3.1"
      pattern: *ga_hotfixes_pattern
    sync:
      version: "3.7"
      pattern: *ga_hotfixes_pattern
    adw:
      version: "2.6"
      pattern: *ga_pattern
    onedrive:
      version: "1.1.1"
      pattern: *ga_hotfixes_pattern
    msteams:
      version: "1.1"
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.4.0"
    trouter:
      version: "~1.5.0"
    sfs:
      version: "~1.5.0"
    tengine-misc:
      version: "~2.5.0"
    tengine-im:
      version: "~2.5.0"
    tengine-lo:
      version: "~2.5.0"
    tengine-pdf:
      version: "~2.5.0"
    tengine-tika:
      version: "~2.5.0"

  7.0.N:
    id: 70n
    acs:
      version: "7.0"
      pattern: *ga_hotfixes_pattern
      image: *repository_image
    share:
      version: "7.0"
      pattern: *ga_hotfixes_pattern
      image: *share_image
    search:
      version: "2.0.2"
      pattern: *ga_hotfixes_pattern
      image: quay.io/alfresco/search-services
    sync:
      version: "3.7"
      pattern: *ga_hotfixes_pattern
    adw:
      version: "2.6"
      pattern: *ga_pattern
    onedrive:
      version: "1.1.0"
      pattern: *ga_hotfixes_pattern
    intelligence:
      version: "~1.3.0"
    trouter:
      version: "~1.4.0"
    sfs:
      version: "~0.16.0"
    tengine-misc:
      version: "~2.5.0"
    tengine-im:
      version: "~2.5.0"
    tengine-lo:
      version: "~2.5.0"
    tengine-pdf:
      version: "~2.5.0"
    tengine-tika:
      version: "~2.5.0"

  community:
    id: com
    acs:
      version: "7.4"
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-content-repository-community
    share:
      version: "7.4"
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-share
    search:
      version: "2.0.7"
      pattern: *ga_hotfixes_pattern
      image: docker.io/alfresco/alfresco-search-services
    tengine-aio:
      version: "~3.1.0"
